<!DOCTYPE html> 
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>dynamic-components</title>
  <script src="vue_lib/vue.min.js"></script>
  <link rel="stylesheet" href="vue_lib/bootstrap/css/bootstrap.min.css">
</head>
<body>
<!-- 相关知识点：
1.创建组件
2.动态组件
3. keep-alive 保持关闭组件活着，防止页面重新渲染
4.transition-mode="out-in"  组件切换时的动画
5.自定义元素 :is="my-component"
eg:
<ul>
  //不能直接使用组件名 <my-component></my-component>
  <li :is="my-component"></li>
</ul>
 -->
  <div id="app">
  <div class="header clearfix">
  <nav>
    <ul class="nav nav-pills pull-right">
      <li role="presentation">
        <a href="#" @click="currentView='manage-posts'">Manage Posts</a>
      </li>
      <li role="presentation">
        <a href="#" @click="currentView='create-post'">Create Post</a>
      </li>
    </ul>
  </nav>
  <h3 class="text-muted">Admin Panel</h3>
  </div>

<div class="container">
   <component transition="fade" transition-mode="out-in" :is="currentView"  keep-alive></component>
</div>

<template id="manage-template">
  <div>
    <h1>Manage Posts</h1>
    <div class="list-group">
      <a v-for="post in posts" href="#" class="list-group-item clearfix">
        {{ post }}
        <span class="pull-right">
          <button class="btn btn-xs btn-info">
            <span class="glyphicon glyphicon-edit"></span>
          </button>
          <button class="btn btn-xs btn-warning">
            <span class="glyphicon glyphicon-trash"></span>
          </button>
        </span>
      </a>
    </div>
  </div>
</template>

<template id="create-template">
  <div>
    <h1>Create Post</h1>
    <form class="form-horizontal">
      <div class="form-group">
        <label class="col-sm-2 control-label">Post title</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" placeholder="Post title">
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">Post body</label>
        <div class="col-sm-10">
          <textarea class="form-control" rows="5"></textarea>
        </div>
      </div>
      <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
          <button type="submit" class="btn btn-primary">Create</button>
        </div>
      </div>
    </form>
  </div>
</template>

  </div>
  <script>
  Vue.component('manage-posts',{
    template:'#manage-template',
    data:function(){
      return {
      posts: [
        'Vue.js: The Basics',
        'Vue.js Components',
        'Server Side Rendering with Vue',
        'Vue + Firebase'
      ]
    }
    }
  })
  Vue.component('create-post',{
    template:'#create-template'
  })
    var app = new Vue({
      el: '#app',
      data: { 
        currentView: 'manage-posts'
      }
    });
  </script>
   <style>
   .header {
  padding: 15px 15px 20px 15px;
  border-bottom: 1px solid #e5e5e5;
}

.header h3 {
  margin-top: 0;
  margin-bottom: 0;
  line-height: 40px;
}

.fade-transition {
  transition: opacity 0.2s ease;
}

.fade-enter, .fade-leave {
  opacity: 0;
}
  </style>
</body>
</html>